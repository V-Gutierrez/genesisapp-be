(()=>{"use strict";var e={221:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=new(r(524).PrismaClient);t.default=n},717:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(r(582));t.default=class{constructor(e){this.app=e,this.CORS(),this.Logger()}CORS(){this.app.use((0,i.default)({origin:["http://localhost:3000","http://192.168.0.56:3000/","https://genesisproject-six.vercel.app"]}))}Logger(){this.app.use(((e,t,r)=>{console.log(`${e.method} ${e.url} --- Origin: ${e.headers.origin}`),r()}))}}},226:function(e,t,r){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(e){a(e)}}function s(e){try{u(n.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=i(r(221)),o=i(r(985));t.default=class{constructor(e){this.app=e,this.get()}get(){this.app.get("/api/devotionals",((e,t)=>n(this,void 0,void 0,(function*(){try{const e=yield a.default.devotional.findMany();return new o.default(t,200,e)}catch(e){return new o.default(t,500,null)}}))))}}},96:function(e,t,r){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(e){a(e)}}function s(e){try{u(n.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=i(r(221)),o=i(r(985));t.default=class{constructor(e){this.app=e,this.getGrowthGroups()}getGrowthGroups(){return n(this,void 0,void 0,(function*(){this.app.get("/api/growthgroups",((e,t)=>n(this,void 0,void 0,(function*(){try{const e=yield a.default.growthGroup.findMany();return new o.default(t,200,e)}catch(e){return new o.default(t,500,null)}}))))}))}}},575:function(e,t,r){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,a){function o(e){try{u(n.next(e))}catch(e){a(e)}}function s(e){try{u(n.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,s)}u((n=n.apply(e,t||[])).next())}))},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=i(r(349)),o=i(r(506)),s=i(r(221)),u=i(r(985)),l=i(r(721));t.default=class{constructor(e){this.app=e,this.get(),this.signUp()}get(){return n(this,void 0,void 0,(function*(){this.app.get("/api/users/:id",((e,t)=>n(this,void 0,void 0,(function*(){const{id:r}=e.params;try{if(r){const e=yield s.default.user.findFirst({where:{id:r},select:{id:!0,email:!0,name:!0,createdAt:!0,birthdate:!0}});if(!e)return new u.default(t,404,{error:"User not found"});if(e)return new u.default(t,200,e)}else new u.default(t,401,{error:"Invalid or missing ID"})}catch(e){new u.default(t,500)}}))))}))}signUp(){return n(this,void 0,void 0,(function*(){this.app.post("/api/users",((e,t)=>n(this,void 0,void 0,(function*(){const r=o.default.object().keys({email:o.default.string().email().required(),name:o.default.string().required(),phone:o.default.string().required().min(8).max(14),password:o.default.string().min(8),birthdate:o.default.date().required()}),n=l.default.validateSchema(r,e.body);if(n)return new u.default(t,400,{error:n});try{const{email:r,name:n,password:i,phone:o,birthdate:l}=e.body;return yield s.default.user.create({data:{email:r,name:n,birthdate:l,password:yield a.default.hashPassword(i),phone:o}}),new u.default(t,201,{message:"User created"})}catch(e){return"P2002"===e.code?new u.default(t,400,{error:"User already exists"}):new u.default(t,500,{error:"Internal server error"})}}))))}))}}},536:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(r(860)),a=n(r(226)),o=n(r(96)),s=n(r(717)),u=n(r(575));t.default=class{constructor(e){this.app=e,e.use(i.default.json()),new s.default(this.app),new u.default(this.app),new o.default(this.app),new a.default(this.app)}}},349:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});const o=a(r(802));t.default=class{static hashPassword(e){return o.hash(e,10)}static comparePassword(e,t){return o.compare(e,t)}}},985:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(e,t,r){this.Response=e,this.StatusCode=t,this.payload=r,this.Response.status(this.StatusCode).json(this.payload)}}},721:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=a(r(634)),u=o(r(506));t.default=class{static validateSchema(e,t){const{error:r}=u.default.validate(t,e,{abortEarly:!1,convert:!1});if(!r||!r.details)return;const n=r.details.map((({message:e,path:t})=>({[t.join(".")]:e})));return s.mergeAll(n)}}},920:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(r(536)),a=n(r(860));new class{constructor(e=(0,a.default)()){this.app=e,this.app.listen(process.env.PORT||5e3,(()=>new i.default(e)))}}},524:e=>{e.exports=require("@prisma/client")},802:e=>{e.exports=require("bcrypt")},582:e=>{e.exports=require("cors")},860:e=>{e.exports=require("express")},506:e=>{e.exports=require("joi")},634:e=>{e.exports=require("ramda")}},t={};!function r(n){var i=t[n];if(void 0!==i)return i.exports;var a=t[n]={exports:{}};return e[n].call(a.exports,a,a.exports,r),a.exports}(920)})();